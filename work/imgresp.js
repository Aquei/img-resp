!function(){"use strict";function t(){return this.update(),this}function e(t,e,r){"data-src"!==t&&"max-width"!==t||!r||this.update(!0)}function r(){var t=new window.Image;return"srcset"in t&&"sizes"in t&&"currentSrc"in t}function n(t){var e=document.createElement("a");return e.href=t,e.href}function c(t,e,r){var n,t,c=[],r=r||"mid",i=encodeURIComponent(t);if(!t)return"";for(n=e;n>0;n-=50)t="https://www.srytk.com/a/image-proxy/img/"+r+"/"+n+"/image?",c.push(t+i+" "+n+"w");return c.join(", ")}function i(t){var e,r=this,n=r.getAttribute("data-src"),c=r.getAttribute("max-width"),i=r.getAttribute("q")||void 0;return n&&c?((t||!r.getAttribute("srcset"))&&(e=r.calcSrcset(r.absUrl(n),c,i),r.setAttribute("srcset",e)),u||!t&&r.getAttribute("src")||r.setAttribute("src",500>=c?c:"500/image?"+encodeURIComponent(r.absUrl(n))),r):r}var a,u=((document._currentScript||document.currentScript).ownerDocument,r()),s=Object.create(HTMLImageElement.prototype);s.createdCallback=t,s.attributeChangedCallback=e,s.update=i,s.calcSrcset=c,s.absUrl=n;try{a=document.registerElement("img-resp",{prototype:s,"extends":"img"})}catch(o){return void console.warn("<img-resp>は既に登録されています。")}}();